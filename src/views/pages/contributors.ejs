<% layout("layouts/boilerplate") %>

<div class="contributors-page">
  <section class="contributors-banner">
    <h2>
      <img
        src="https://fonts.gstatic.com/s/e/notoemoji/latest/1f30d/512.gif"
        alt="Handshake"
        width="50"
        height="50" />
      We Welcome Contributions!
    </h2>
    <div class="banner-row">
      <p class="description">
        Your ideas and skills can help make justice accessible to everyone across
        the globe. Join us in improving this platform and simplify access to
        legal resources.
        <img
          src="https://fonts.gstatic.com/s/e/notoemoji/latest/2696_fe0f/512.gif"
          alt="Scales of Justice"
          width="32"
          height="32" />
      </p>
      <div class="banner-image">
        <img src="/pic/contributors.png" alt="Collaborative Network" />
      </div>
      <a
        href="https://github.com/dipexplorer/LegalHuB/"
        target="_blank"
        rel="noopener"
        class="cta-button">
        Become a Contributor
      </a>
    </div>
  </section>

  <% if (repoStats) { %>
  <section class="stats-section">
    <div class="title">Project Statistics</div>
    <div class="stats-grid">
      <div class="stat-card rectangle wide-top">
        <i class="fas fa-users"></i>
        <div class="stat-number"><%= repoStats.contributors ? repoStats.contributors : 'N/A' %></div>
        <div class="stat-label">Contributors</div>
      </div>

      <div class="stat-card square top-square-1">
        <i class="fas fa-code-commit"></i>
        <div class="stat-number"><%= repoStats.commits ? repoStats.commits : 'N/A' %></div>
        <div class="stat-label">Commits</div>
      </div>
      <div class="stat-card square top-square-2">
        <i class="fas fa-star"></i>
        <div class="stat-number"><%= repoStats.stars ? repoStats.stars : 'N/A' %></div>
        <div class="stat-label">Stars</div>
      </div>
      <div class="stat-card square top-square-3">
        <i class="fas fa-code-branch"></i>
        <div class="stat-number"><%= repoStats.forks ? repoStats.forks : 'N/A' %></div>
        <div class="stat-label">Forks</div>
      </div>

      <div class="stat-card square bot-square-1">
        <i class="fas fa-code-pull-request"></i>
        <div class="stat-number"><%= repoStats.pulls ? repoStats.pulls : 'N/A' %></div>
        <div class="stat-label">PRs Merged</div>
      </div>
      <div class="stat-card square bot-square-2">
        <i class="fas fa-code"></i>
        <div class="stat-number">JS / EJS</div>
        <div class="stat-label">Languages</div>
      </div>
      <div class="stat-card square bot-square-3">
        <i class="fas fa-git-alt"></i>
        <div class="stat-number"><%= repoStats.commits ? repoStats.commits : 'N/A' %></div>
        <div class="stat-label">Total Commits</div>
      </div>

      <div class="stat-card rectangle wide-bottom">
        <i class="fas fa-check-double"></i>
        <div class="stat-number"><%= repoStats.issuesClosed ? repoStats.issuesClosed : 'N/A' %></div>
        <div class="stat-label">Issues Closed (30d)</div>
      </div>
    </div>
  </section>
  <% } %>
  <section class="contributors-hero">
    <div class="container">
      <h1>Our Contributors</h1>
      <p>Huge thanks to everyone helping build LegalHuB.</p>
      <% if (repoStats) { %>
      <div class="repo-stats">
        <a href="<%= repoStats.repoHtmlUrl %>" target="_blank" rel="noopener" class="btn">GitHub Repo</a>
        <a href="<%= repoStats.pullsUrl %>" target="_blank" rel="noopener" class="btn">View PRs</a>
        <a href="<%= repoStats.issuesUrl %>" target="_blank" rel="noopener" class="btn">Open Issues</a>
        
        </div>
      <% } %>
    </div>
  </section>

  <section class="container contributors-container">
    <% if (!contributors || !contributors.length) { %>
    <p class="contributors-empty">
      No contributors found right now. Please try again later.
    </p>
    <% } else { %>
    <div class="contributors-grid">
      <% contributors.forEach(c => { %>
      <article class="contrib-card">
        <img src="<%= c.avatar_url %>" alt="<%= c.login %>" />
        <div class="contrib-name"><%= c.login %></div>
        <a
          class="contrib-link"
          href="<%= c.html_url %>"
          target="_blank"
          rel="noopener"
          >@<%= c.login %></a
        >
        <% if (typeof c.contributions !== 'undefined') { %>
        <div style="margin-top: 6px; font-size: 0.9rem; color: #666">
          ðŸ§© <%= c.contributions %> contributions
        </div>
        <% } %>
      </article>
      <% }) %>
    </div>
    <% } %>
  </section>
</div>